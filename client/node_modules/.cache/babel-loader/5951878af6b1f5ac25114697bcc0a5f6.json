{"ast":null,"code":"import { __read, __spreadArray } from \"tslib\";\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/from';\nimport { identity } from '../util/identity';\nimport { noop } from '../util/noop';\nimport { popResultSelector } from '../util/args';\nexport function withLatestFrom() {\n  var inputs = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    inputs[_i] = arguments[_i];\n  }\n\n  var project = popResultSelector(inputs);\n  return operate(function (source, subscriber) {\n    var len = inputs.length;\n    var otherValues = new Array(len);\n    var hasValue = inputs.map(function () {\n      return false;\n    });\n    var ready = false;\n\n    var _loop_1 = function (i) {\n      innerFrom(inputs[i]).subscribe(new OperatorSubscriber(subscriber, function (value) {\n        otherValues[i] = value;\n\n        if (!ready && !hasValue[i]) {\n          hasValue[i] = true;\n          (ready = hasValue.every(identity)) && (hasValue = null);\n        }\n      }, noop));\n    };\n\n    for (var i = 0; i < len; i++) {\n      _loop_1(i);\n    }\n\n    source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n      if (ready) {\n        var values = __spreadArray([value], __read(otherValues));\n\n        subscriber.next(project ? project.apply(void 0, __spreadArray([], __read(values))) : values);\n      }\n    }));\n  });\n}","map":{"version":3,"mappings":";AACA,SAASA,OAAT,QAAwB,cAAxB;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,iBAAT,QAAkC,cAAlC;AAkDA,OAAM,SAAUC,cAAV,GAAwB;EAAO;;OAAA,yCAAgB;IAAhBC;;;EACnC,IAAMC,OAAO,GAAGH,iBAAiB,CAACE,MAAD,CAAjC;EAEA,OAAOP,OAAO,CAAC,UAACS,MAAD,EAASC,UAAT,EAAmB;IAChC,IAAMC,GAAG,GAAGJ,MAAM,CAACK,MAAnB;IACA,IAAMC,WAAW,GAAG,IAAIC,KAAJ,CAAUH,GAAV,CAApB;IAIA,IAAII,QAAQ,GAAGR,MAAM,CAACS,GAAP,CAAW;MAAM;IAAK,CAAtB,CAAf;IAGA,IAAIC,KAAK,GAAG,KAAZ;;4BAMSC,GAAC;MACRhB,SAAS,CAACK,MAAM,CAACW,CAAD,CAAP,CAAT,CAAqBC,SAArB,CACE,IAAIlB,kBAAJ,CACES,UADF,EAEE,UAACU,KAAD,EAAM;QACJP,WAAW,CAACK,CAAD,CAAX,GAAiBE,KAAjB;;QACA,IAAI,CAACH,KAAD,IAAU,CAACF,QAAQ,CAACG,CAAD,CAAvB,EAA4B;UAE1BH,QAAQ,CAACG,CAAD,CAAR,GAAc,IAAd;UAKA,CAACD,KAAK,GAAGF,QAAQ,CAACM,KAAT,CAAelB,QAAf,CAAT,MAAuCY,QAAQ,GAAG,IAAlD;QACD;MACF,CAbH,EAgBEX,IAhBF,CADF;;;IADF,KAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,GAApB,EAAyBO,CAAC,EAA1B,EAA4B;cAAnBA;IAqBR;;IAGDT,MAAM,CAACU,SAAP,CACE,IAAIlB,kBAAJ,CAAuBS,UAAvB,EAAmC,UAACU,KAAD,EAAM;MACvC,IAAIH,KAAJ,EAAW;QAET,IAAMK,MAAM,kBAAIF,KAAJ,GAASG,OAAKV,WAAL,CAAT,CAAZ;;QACAH,UAAU,CAACc,IAAX,CAAgBhB,OAAO,GAAGA,OAAO,MAAP,CAAO,MAAP,EAAOiB,yBAAIH,MAAJ,EAAP,CAAH,GAAwBA,MAA/C;MACD;IACF,CAND,CADF;EASD,CAhDa,CAAd;AAiDD","names":["operate","OperatorSubscriber","innerFrom","identity","noop","popResultSelector","withLatestFrom","inputs","project","source","subscriber","len","length","otherValues","Array","hasValue","map","ready","i","subscribe","value","every","values","__read","next","__spreadArray"],"sourceRoot":"","sources":["../../../../src/internal/operators/withLatestFrom.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}